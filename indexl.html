<!DOCTYPE html>
<form class="charsheet">
  <head>
    <title>Character Sheet (Basic)</title> <link rel="stylesheet" href="test.css">
  </head>
  <header class="">
  </header>
  <section class="charname_box">
        <!-- <label for="charname">Character Name</label> <input name="charname"/> -->
    <svg width="400" height="80">
        <rect x="4" y="4" rx="10" ry="10" width="250" height="60" style="fill:rgb(90, 84, 84);stroke:black;stroke-width:5;opacity:0.5"/>
        <foreignObject x="40" y="25" width="500" height="60">
          <div>
            <input name="charname"/>
          </div>
          <div>
            <label x="4" y="4" for="charname">Character Name</label>
          </div>
        </foreignObject>
    </svg>
  </section>
  <section class="charinfo_box">
    <div>
      <label for="class_id">Class</label> <select id="class_id">
        <option value="0"></option>
        <option value="1">Envoy</option>
        <option value="2">Mechanic</option>
        <option value="3">Mystic</option>
        <option value="4">Operative</option>
        <option value="5">Solarian</option>
        <option value="6">Soldier</option>
        <option value="7">Technomancer</option>
      </select>
      <label for="level_id">Level</label> <input type="number" id="level_id" min="1" max="20">
      <label for="race_id">Race</label> <select id="race_id">
        <option value="0"></option>
        <option value="1">Android</option>
        <option value="2">Human</option>
        <option value="3">Kasatha</option>
        <option value="4">Lashunta (Damaya)</option>
        <option value="5">Lashunta (Korasha)</option>
        <option value="6">Shirren</option>
        <option value="7">Vesk</option>
        <option value="8">Ysoki</option>
        <option value="9">Astrazoan</option>
        <option value="10">Bantrid</option>
        <option value="11">Borais</option>
        <option value="12">Khizar</option>
        <option value="13">SRO (Small)</option>
        <option value="14">SRO (Medium)</option>
        <option value="15">Strix</option>
      </select>
      <label for="theme_id">Theme</label> <select id="theme_id">
        <option value="0"></option>
        <option value="1">Ace Pilot</option>
        <option value="2">Bounty Hunter</option>
        <option value="3">Icon</option>
        <option value="4">Mercenary</option>
        <option value="5">Outlaw</option>
        <option value="6">Priest</option>
        <option value="7">Scholar</option>
        <option value="8">Spacefarer</option>
        <option value="9">Xenoseeker</option>
        <option value="10">Solar Disciple</option>
        <option value="11">Roboticist</option>
        <option value="12">Wild Warden</option>
        <option value="13">Corporate Agent</option>
        <option value="14">Gladiator</option>
        <option value="15">Cyberborn</option>
        <option value="16">Tempered Pilgrim</option>
        <option value="17">Space Pirate</option>
        <option value="18">Death-Touched</option>
        <option value="19">Dragonblood</option>
        <option value="20">Dream Prophet</option>
        <option value="21">Biotechnician</option>
        <option value="22">Xenoarchaeologist</option>
        <option value="23">Cultist</option>
        <option value="24">Xenoseeker</option>
        <option value="24">Themeless*</option>
      </select>
      <label for="sex_id">Sex</label> <select id="sex_id">
        <option value="0"></option>
        <option value="1">Male</option>
        <option value="2">Female</option>
        <option value="3">Host (Shirren only)</option>
      </select>
    </div>
    <div>
      <label for="alignment_id">Alignment</label> <select id="alignment_id">
        <option value="0"></option>
        <option value="1">Chaotic Evil</option>
        <option value="2">Chaotic Neutral</option>
        <option value="3">Chaotic Good</option>
        <option value="4">Neutral Evil</option>
        <option value="5">True Neutral</option>
        <option value="6">Neutral Good</option>
        <option value="7">Lawful Evil</option>
        <option value="8">Lawful Neutral</option>
        <option value="9">Lawful Good</option>
      </select>
      <label for="deity_id">Deity</label> <select id="deity_id">
        <option value="0">None</option>
        <option value="1">Abadar</option>
        <option value="2">Angradd</option>
        <option value="3">Arshea</option>
        <option value="4">Asmodeus</option>
        <option value="5">Besmara</option>
        <option value="6">Black Butterfly</option>
        <option value="7">Calistria</option>
        <option value="8">Damoritosh</option>
        <option value="9">Desna</option>
        <option value="10">Eldest</option>
        <option value="11">Eloritu</option>
        <option value="12">Groetus</option>
        <option value="13">Hylax</option>
        <option value="14">Ibra</option>
        <option value="15">Iomedae</option>
        <option value="16">Lamashtu</option>
        <option value="17">Lao Shu Po</option>
        <option value="18">Lissala</option>
        <option value="19">Nyarlathotep</option>
        <option value="20">Pharasma</option>
        <option value="21">Sarenrae</option>
        <option value="22">Talavet</option>
        <option value="23">The Devourer</option>
        <option value="24">Triune</option>
        <option value="25">Urgathoa</option>
        <option value="26">Weydan</option>
        <option value="27">Yaraesa</option>
        <option value="28">Zon-Kuthon</option>
      </select>
      <label for="homeworld_id">Homeworld</label> <select id="homeworld_id">
        <option value="0">Unknown</option>
        <option value="1">Aballon</option>
        <option value="2">Absalom Station</option>
        <option value="3">Akiton</option>
        <option value="4">Apostae</option>
        <option value="5">Arquand</option>
        <option value="6">Arshalin</option>
        <option value="7">Aucturn</option>
        <option value="8">Azlanti Star Empire</option>
        <option value="9">Barrow</option>
        <option value="10">Bretheda</option>
        <option value="11">Castrovel</option>
        <option value="12">Daegox 4</option>
        <option value="13">Daimalko</option>
        <option value="14">Elytrio</option>
        <option value="15">Eox</option>
        <option value="16">Heicoron IV</option>
        <option value="17">Idari</option>
        <option value="18">Jedarat</option>
        <option value="19">Liavara</option>
        <option value="20">Lothun</option>
        <option value="21">Nakondis</option>
        <option value="22">Nejeor VI</option>
        <option value="23">New Thespera</option>
        <option value="24">Orikolai</option>
        <option value="25">Orry</option>
        <option value="26">Outpost Zed</option>
        <option value="27">Preluria</option>
        <option value="28">Primoria</option>
        <option value="29">Ratheren</option>
        <option value="30">Riven Shroud</option>
        <option value="31">Sepres VI</option>
        <option value="32">Shadari</option>
        <option value="33">Shimrinsara</option>
        <option value="34">Silselrik</option>
        <option value="35">Tabori Cluster</option>
        <option value="36">The Diaspora</option>
        <option value="37">The Drift</option>
        <option value="38">The Sun</option>
        <option value="39">The Veskarium</option>
        <option value="40">Triaxus</option>
        <option value="41">Urrakar</option>
      </select>
      <label for="playername">Player Name</label><input name="playername">
    </div>
  </section>
  <section class=ability_score_box>
    <div>
        <label for="str_score">STR</label> = <input id="str_score"> </input> <label for="">STR MOD = </label> <input id="str_mod"></input>
    </div>
    <div>
        <label for="dex_score">DEX</label> = <input id="dex_score"> </input> <label for="">DEX MOD = </label> <input id="dex_mod"></input>
    </div>
    <div>
        <label for="con_score">CON</label> = <input id="con_score"> </input> <label for="">CON MOD = </label> <input id="con_mod"></input>
    </div>
    <div>
        <label for="int_score">INT</label> = <input id="int_score"> </input> <label for="">INT MOD = </label> <input id="int_mod"></input>
    </div>
    <div>
        <label for="wis_score">WIS</label> = <input id="wis_score"> </input> <label for="">WIS MOD = </label> <input id="wis_mod"></input>
    </div>
    <div>
        <label for="cha_score">CHA</label> = <input id="cha_score"> </input> <label for="">CHA MOD = </label> <input id="cha_mod"></input>
    </div>
  </section>

  <button type="button" onclick="AS_gen()">Go!</button>

<script>
  function AS_gen() {
  //declare global variables
    var race_ID = Number(race_id.value); 
    var theme_ID = Number(theme_id.value);
    var str_score; var dex_score; var con_score;
    var int_score; var wis_score; var cha_score
    var str_mod; var dex_mod; var con_mod;
    var int_mod; var wis_mod; var cha_mod;
    var pb_array = [0,0,0,0,0,0];
    
    //create point buy array
    //funtion PB_gen() {
    //pb_array = [Number(str_pb.value),Number(dex_pb.value),Number(con_pb.value),Number(int_pb.value),Number(wis_pb.value),Number(cha_pb.value)]
    }

    //declare other variables
    var race_array;
    var theme_array;
    var total_array;
    var base_array = [10,10,10,10,10,10];
    var mod_array = [0,0,0,0,0,0];
    var themeless_input = 6; //Number(themeless_ab.value)
    var i;
    
    //create race array by checking race_id against race_index
    function race_ab_gen () {
        var race_index = [[0,2,0,2,0,-2],[0,0,0,0,0,0],[2,0,0,-2,2,0],[0,0,-2,2,0,2],
        [2,0,0,0,-2,2],[0,0,2,0,2,-2],[2,0,2,-2,0,0],[-2,2,0,2,0,0],[0,2,-2,0,0,2],[0,2,2,-2,0,0],
        [0,0,2,0,-2,2],[0,-2,2,0,2,0],[0,2,0,0,0,0],[2,0,0,0,0,0],[0,2,0,2,0,-2]];
        race_array = race_index[race_ID-1];
    }

    race_ab_gen ();

    //create theme array by checking theme_id against theme_index
    function theme_ab_gen () {
        theme_array = [0,0,0,0,0,0];
        var theme_index = [2,3,6,1,2,5,4,3,6,5,4,5,6,3,4,6,2,3,6,5,4,4,3,themeless_input];
        theme_array[theme_index[theme_ID-1]-1]++;
    }
    
    theme_ab_gen();

    //create total array by summing race, theme, point buy, and base arrays
    function total_ab_gen () {
        total_array = [0,0,0,0,0,0]
        i = 0;
        while (i < 6) {
            total_array[i] = base_array[i] + theme_array[i] + race_array[i] + pb_array[i];
            i++}
        document.getElementById("str_score").value = total_array[0];
        document.getElementById("dex_score").value = total_array[1];
        document.getElementById("con_score").value = total_array[2];
        document.getElementById("int_score").value = total_array[3];
        document.getElementById("wis_score").value = total_array[4];
        document.getElementById("cha_score").value = total_array[5];
        i = 0;
        while (i < 6) {
            mod_array[i] = Math.floor((total_array[i] - 10) / 2)
            i++}
        document.getElementById("str_mod").value = mod_array[0];
        document.getElementById("dex_mod").value = mod_array[1];
        document.getElementById("con_mod").value = mod_array[2];
        document.getElementById("int_mod").value = mod_array[3];
        document.getElementById("wis_mod").value = mod_array[4];
        document.getElementById("cha_mod").value = mod_array[5];
        
    }
    
  total_ab_gen();
  
  function finalize_ab_gen () {
        str_score = total_array[0];
        dex_score = total_array[1];
        con_score = total_array[2];
        int_score = total_array[3];
        wis_score = total_array[4];
        cha_score = total_array[5];
        str_mod = mod_array[0];
        dex_mod = mod_array[1];
        con_mod = mod_array[2];
        int_mod = mod_array[3];
        wis_mod = mod_array[4];
        cha_mod = mod_array[5];
  }
  
  //writes onto the HTML doc
  /*document.getElementById("str_score").value = str_score;
  document.getElementById("str_mod").value = str_mod;
  document.getElementById("dex_score").value = dex_score;
  document.getElementById("dex_mod").value = dex_mod;
  document.getElementById("con_score").value = con_score;
  document.getElementById("con_mod").value = con_mod;
  document.getElementById("int_score").value = int_score;
  document.getElementById("int_mod").value = int_mod;
  document.getElementById("wis_score").value = wis_score;
  document.getElementById("wis_mod").value = wis_mod;
  document.getElementById("cha_score").value = cha_score;
  document.getElementById("cha_mod").value = cha_mod; */

}
</script>


</form>
